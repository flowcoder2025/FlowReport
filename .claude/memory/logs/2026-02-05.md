# 2026-02-05 Daily Log

## Session Save - ReportingOps MVP 완료

### Completed

- [x] **Phase 1**: Next.js 14 프로젝트 셋업
  - package.json, tsconfig.json, tailwind.config.ts
  - 기본 UI 컴포넌트 (Button, Card, Toast, Tabs)

- [x] **Phase 2**: Prisma 스키마 설계
  - 15+ 모델 정의 (Workspace, ChannelConnection, MetricSnapshot 등)
  - Zanzibar 권한 테이블 (RelationTuple, RelationDefinition)

- [x] **Phase 3**: 인증 및 권한 시스템
  - NextAuth.js + Google OAuth 설정
  - Zanzibar 기반 ReBAC (check/grant/revoke)
  - Workspace RBAC 미들웨어

- [x] **Phase 4**: 핵심 데이터 레이어
  - Workspace CRUD API
  - AES-256-GCM 자격증명 암호화
  - CSV 업로드/검증

- [x] **Phase 5**: 커넥터 구현
  - BaseConnector 추상 클래스
  - GA4, Meta, YouTube 커넥터

- [x] **Phase 6**: 대시보드 UI
  - 주간/월간 탭 구조
  - Overview, SNS, Store, Notes 서브탭
  - KPI 카드, 채널별 요약표

- [x] **Phase 7-8**: Export 및 배포
  - PDF/PNG Export 구조
  - Vercel Cron 설정
  - 빌드 성공 확인

### Key Decisions

1. **MVP 커넥터**: GA4 + Meta + YouTube
2. **인증**: Google OAuth만 (MVP)
3. **아키텍처**: fdp-backend-architect 패턴 적용

### Modified Files (40+)

**Core:**
- `prisma/schema.prisma` - 전체 DB 스키마
- `src/lib/auth/` - NextAuth 설정
- `src/lib/permissions/` - Zanzibar 권한
- `src/lib/connectors/` - 데이터 소스 커넥터
- `src/lib/crypto/credentials.ts` - 암호화
- `src/lib/csv/` - CSV 처리

**UI:**
- `src/app/(dashboard)/` - 대시보드 라우트
- `src/components/dashboard/` - 대시보드 컴포넌트
- `src/components/ui/` - 공통 UI

**Config:**
- `package.json`, `tsconfig.json`, `tailwind.config.ts`
- `vercel.json`, `.env.local.example`

### Handoff Notes

**다음 단계:**
1. `.env.local` 생성 (`.env.local.example` 참고)
2. Supabase 프로젝트 생성 → DB URL 설정
3. `npx prisma migrate dev --name init` 실행
4. Google Cloud Console에서 OAuth 설정
5. `npm run dev`로 로컬 실행

**Post-MVP 작업:**
- SmartStore/Coupang 커넥터 추가
- 실제 API 연동 구현 (현재 구조만)
- PDF 렌더링 구현 (@react-pdf/renderer)
